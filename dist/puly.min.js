/*!
 * puly - 基于Image3D.js开发，底层依赖webgl实现，通过配置和简单的方法调用，可以快速实现三维数据可视化和VR效果等。
 * git+https://github.com/hai2007/puly.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 1.0.0-alpha.0
 *
 * Copyright (c) 2021-2022 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Sun May 01 2022 09:51:11 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";function t(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t=function(e){return typeof e}}else{t=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return t(e)}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function e(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}function o(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var a={stopPropagation:function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}},preventDefault:function(e){e=e||window.event;if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},isNode:function(e){return e&&(e.nodeType===1||e.nodeType===9||e.nodeType===11)},bind:function(e,t,n){if(e.constructor===Array||e.constructor===NodeList||e.constructor===HTMLCollection){for(var i=0;i<e.length;i++){this.bind(e[i],t,n)}return}if(window.attachEvent)e.attachEvent("on"+t,n);else e.addEventListener(t,n,false)},unbind:function(e,t,n){if(e.constructor===Array||e.constructor===NodeList||e.constructor===HTMLCollection){for(var i=0;i<e.length;i++){this.unbind(e[i],t,n)}return}if(window.detachEvent)e.detachEvent("on"+t,n);else e.removeEventListener(t,n,false)},find:function(e,t,n){if(!this.isNode(e))return[];var i=e.getElementsByTagName(n||"*");var r=[];for(var o=0;o<i.length;o++){if(this.isNode(i[o])&&(typeof t!="function"||t(i[o])))r.push(i[o])}return r},children:function(e,t){var n=e.childNodes;var i=[];for(var r=0;r<n.length;r++){if(this.isNode(n[r])&&(typeof t!="function"||t(n[r])))i.push(n[r])}return i},hasClass:function(e,t,n){if(t.constructor!==Array)t=[t];var i=" "+(e.getAttribute("class")||"")+" ";for(var r=0;r<t.length;r++){if(i.indexOf(" "+t[r]+" ")>=0){if(n)return true}else{if(!n)return false}}return true},removeClass:function(e,t){var n=" "+(e.getAttribute("class")||"")+" ";var i=n.replace(" "+t.trim()+" "," ");e.setAttribute("class",i.trim())},addClass:function(e,t){if(this.hasClass(e,t))return;var n=e.getAttribute("class")||"";e.setAttribute("class",n+" "+t)},toNode:function(e,t){var n;if(t)n=document.createElementNS(s.svg,"svg");else{var i="div";if(/^<tr[> ]/.test(e)){i="tbody"}else if(/^<th[> ]/.test(e)||/^<td[> ]/.test(e)){i="tr"}else if(/^<thead[> ]/.test(e)||/^<tbody[> ]/.test(e)){i="table"}n=document.createElement(i)}n.innerHTML=e;var r=n.childNodes;for(var o=0;o<r.length;o++){if(this.isNode(r[o]))return r[o]}},trigger:function(e,t){if(document.createEventObject){e.fireEvent("on"+t,document.createEventObject())}else{var n=document.createEvent("HTMLEvents");n.initEvent(t,true,false);e.dispatchEvent(n)}},getStyle:function(e,t){var n=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle;return typeof t==="string"?n.getPropertyValue(t):n},offsetPosition:function(e){var t=0;var n=0;n=e.offsetTop;t=e.offsetLeft;e=e.offsetParent;while(e){n+=e.offsetTop;t+=e.offsetLeft;e=e.offsetParent}return{left:t,top:n}},mousePosition:function(e,t){var n=e.getBoundingClientRect();if(!t||!t.clientX)throw new Error("Event is necessary!");return{x:t.clientX-n.left,y:t.clientY-n.top}},remove:function(e){e.parentNode.removeChild(e)},setStyles:function(e,t){for(var n in t)e.style[n]=t[n]},size:function(e,t){var n,i;if(t=="content"){i=e.clientWidth-(this.getStyle(e,"padding-left")+"").replace("px","")-(this.getStyle(e,"padding-right")+"").replace("px","");n=e.clientHeight-(this.getStyle(e,"padding-top")+"").replace("px","")-(this.getStyle(e,"padding-bottom")+"").replace("px","")}else if(t=="padding"){i=e.clientWidth;n=e.clientHeight}else if(t=="border"){i=e.offsetWidth;n=e.offsetHeight}else if(t=="scroll"){i=e.scrollWidth;n=e.scrollHeight}else{i=e.offsetWidth;n=e.offsetHeight}return{width:i,height:n}},append:function(e,t){var n=this.isNode(t)?t:this.toNode(t);e.appendChild(n);return n},prepend:function(e,t){var n=this.isNode(t)?t:this.toNode(t);e.insertBefore(n,e.childNodes[0]);return n},after:function(e,t){var n=this.isNode(t)?t:this.toNode(t);e.parentNode.insertBefore(n,e.nextSibling);return n},before:function(e,t){var n=this.isNode(t)?t:this.toNode(t);e.parentNode.insertBefore(n,e);return n}};var f=true;function l(e,n){var t=null;var i=false;var r=false;var o=function e(){if(!i){i=true;var t=window.setInterval(function(){if(!r){window.clearInterval(t);i=false;n()}r=false},100)}else{r=true}};try{t=new ResizeObserver(o);t.observe(e)}catch(e){if(f){console.error("ResizeObserver undefined!");f=false}o();window.addEventListener("resize",o,false)}return function(){if(t){t.disconnect()}}}var n=function(){function n(e){var t=this;i(this,n);o(this,"size",void 0);o(this,"canvas",void 0);this.size=a.size(e);this.canvas=a.append(e,"<canvas width='"+this.size.width+"' height='"+this.size.height+"'>非常抱歉，您的浏览器不支持canvas!</canvas>");l(e,function(){t.size=a.size(e);t.canvas.setAttribute("width",""+t.size.width);t.canvas.setAttribute("height",""+t.size.height)})}e(n,[{key:"setOption",value:function e(t){console.log(n.theme)}}],[{key:"registerTheme",value:function e(t){n.theme=t}}]);return n}();o(n,"theme",void 0);if((typeof module==="undefined"?"undefined":t(module))==="object"&&t(module.exports)==="object"){module.exports=n}else{window["Puly"]=n}})();